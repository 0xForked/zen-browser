
export WINSYSROOT="$(echo ~)/win-cross/vs2022"

export MIDL="$(echo ~)/win-cross/wine/bin/widl"
export WINE="$(echo ~)/win-cross/wine/bin/wine64"
export WINEDEBUG=-all

#? https://bugzilla.mozilla.org/show_bug.cgi?id=1617793
#? https://phabricator.services.mozilla.com/D170170
ac_add_options --target=x86_64-pc-mingw32

export MOZ_STUB_INSTALLER=1
export MOZ_MAINTENANCE_SERVICE=

export MOZ_PKG_FORMAT=TAR
export MOZ_LTO=cross

export CROSS_BUILD=1
POLLY="-mllvm -polly -mllvm -polly-2nd-level-tiling -mllvm -polly-loopfusion-greedy -mllvm -polly-pattern-matching-based-opts -mllvm -polly-position=before-vectorizer -mllvm -polly-vectorizer=stripmine"
TOOLS=$(echo ~)/win-cross
WINSYSROOT="$(echo ~)/win-root"

export MIDL="$TOOLS/wine/bin/widl"
export MOZ_INCLUDE_SOURCE_INFO=1
export MOZ_STUB_INSTALLER=1
export WIN32_REDIST_DIR="$(echo ~)/win-cross/vs2022"/VC/Redist/MSVC/14.34.31931/x64/Microsoft.VC143.CRT
export WIN_UCRT_REDIST_DIR="$(echo ~)/win-cross/vs2022/Windows Kits/10/Redist/10.0.22621.0/ucrt/DLLs/x64"
export WINEDEBUG=-all

ac_add_options --enable-lto=cross,full
ac_add_options --enable-optimize="-clang:-march=x86-64 -clang:-msse3 -clang:-mtune=haswell -clang:-O3 -w"
ac_add_options --enable-release
ac_add_options --enable-rust-simd
ac_add_options RUSTC_OPT_LEVEL=3
export MOZILLA_OFFICIAL=1
export RUSTFLAGS="$RUSTFLAGS -Ctarget-cpu=x86-64"

ac_add_options --enable-default-browser-agent
ac_add_options --enable-install-strip
ac_add_options --enable-jxl
ac_add_options --enable-linker=lld

# ALWAYS MANTAIN ONE LINE BREAK AT THE END OF THIS FILE

